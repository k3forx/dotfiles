# Enable Powerlevel10k instant prompt. Should stay close to the top of ~/.zshrc.
# Initialization code that may require console input (password prompts, [y/n]
# confirmations, etc.) must go above this block; everything else may go below.
# if [[ -r "${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh" ]]; then
#   source "${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh"
# fi

# Init Envs
export EDITOR=vim

# Key bindings
bindkey -e

# Zsh Options
setopt auto_cd
setopt auto_param_keys
setopt mark_dirs
setopt EXTENDED_HISTORY
setopt share_history
setopt hist_ignore_all_dups
setopt IGNOREEOF
setopt hist_reduce_blanks # Remove superfluous blanks

# aliases
alias viz='vi ~/.zshrc'
alias vidi='vi ~/.dir_colors'
alias vivi='vi ~/.vimrc'
alias vit='vi ~/.tmux.conf'
alias cdd='cd ~/dotfiles'
alias soz='source ~/.zshrc'
alias la='ls -a'
alias ll='ls -l'
alias lla='ls -al'
alias lt='ls -t'
alias op='open'
alias opp='open .'
alias bton='blueutil --power on'
alias btoff='blueutil --power off'
alias line='open -a /Applications/LINE.app'
alias slack='open /Applications/Slack.app'
alias bupd='brew update'
alias bupg='brew upgrade'
alias bcup='brew cleanup'
alias bupdg='brew update && brew upgrade'
alias bdoc='brew doctor'

autoload -Uz compinit
compinit

# Plugin manager
source ~/.zplug/init.zsh
zplug "plugins/git",   from:oh-my-zsh
zplug "romkatv/powerlevel10k", as:theme, depth:1
zplug "zsh-users/zsh-syntax-highlighting", defer:2
zplug "zsh-users/zsh-completions"
zplug "b4b4r07/zsh-gomi", if:"which fzf"

# install plugins if there are plugins that have not been installed
if ! zplug check --verbose; then
    printf "Install? [y/N]: "
    if read -q; then
        echo; zplug install
    fi
fi

# Then, source plugins and add commands to $PATH
zplug load --verbose

# Color Settings
autoload -Uz colors
colors

export CLICOLOR=true
export LSCOLORS='exfxcxdxbxGxDxabagacad'
export LS_COLORS='di=01;34:ln=36:so=32:pi=33:ex=31:bd=36;01:cd=33;01:su=31;40;07:sg=36;40;07:tw=32;40;07:ow=33;40;07:*.pdf=35'
autoload -U colors ; colors ; zstyle ':completion:*' list-colors "${LS_COLORS}"

[[ -z "$TMUX" && ! -z "$PS1"  ]] && exec tmux

# To customize prompt, run `p10k configure` or edit ~/.p10k.zsh.
source ~/.p10k.zsh

# Path
export PATH="/usr/local/sbin:$PATH"
export PATH="/usr/local/opt/make/libexec/gnubin:$PATH"
export PYENV_ROOT="$HOME/.pyenv/versions/3.7.2"
export PATH="$PYENV_ROOT/bin:$PATH"
export GOPATH=$HOME/go
export PATH=$HOME/.nodebrew/current/bin:$PATH
export PATH=/usr/local/bin:$PATH
source /usr/local/Cellar/awscli/2.0.6/libexec/bin/aws_zsh_completer.sh

# Added by serverless binary installer
export PATH="$HOME/.serverless/bin:$PATH"

